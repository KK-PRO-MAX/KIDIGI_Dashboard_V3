import{a as u}from"./index-B9ygI19o.js";const l=e=>new Promise(a=>setTimeout(a,e)),t=u.create({baseURL:"https://guiz.haomengwl.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{var i;const a=localStorage.getItem("token");return a&&(e.headers.token=a),console.log("发送请求:",(i=e.method)==null?void 0:i.toUpperCase(),e.url),console.log("请求头:",e.headers),console.log("请求数据:",e.data),e},e=>(console.error("请求拦截器错误:",e),Promise.reject(e)));t.interceptors.response.use(e=>(console.log("收到响应:",e.status,e.data),e),e=>(console.error("响应拦截器错误:",e),Promise.reject(e)));function b(){return m()}async function m(){return await l(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,name:"A1",sn_code:"SN001",location:"First Floor Lobby",location_id:1,locker_code:"LC001",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*30,update_time:Date.now()-864e5*1,update_user:"admin",Devices_in_use:15,available_device:10,damaged_device:7},{id:2,name:"A2",sn_code:"SN002",location:"Second Floor Office",location_id:1,locker_code:"LC002",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*20,update_time:Date.now()-864e5*2,update_user:"admin",Devices_in_use:12,available_device:15,damaged_device:5},{id:3,name:"B1",sn_code:"SN003",location:"Third Floor Conference",location_id:2,locker_code:"LC003",locker_type:"KiDiGi-16",locker_type_id:2,bay_total:16,locker_status:0,create_time:Date.now()-864e5*10,update_time:Date.now()-864e5*3,update_user:"admin",Devices_in_use:5,available_device:8,damaged_device:3},{id:1,name:"A1",sn_code:"SN001",location:"First Floor Lobby",location_id:1,locker_code:"LC001",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*30,update_time:Date.now()-864e5*1,update_user:"admin",Devices_in_use:15,available_device:10,damaged_device:7},{id:2,name:"A2",sn_code:"SN002",location:"Second Floor Office",location_id:1,locker_code:"LC002",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*20,update_time:Date.now()-864e5*2,update_user:"admin",Devices_in_use:12,available_device:15,damaged_device:5},{id:3,name:"B1",sn_code:"SN003",location:"Third Floor Conference",location_id:2,locker_code:"LC003",locker_type:"KiDiGi-16",locker_type_id:2,bay_total:16,locker_status:0,create_time:Date.now()-864e5*10,update_time:Date.now()-864e5*3,update_user:"admin",Devices_in_use:5,available_device:8,damaged_device:3}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function L(){return k()}async function k(){return await l(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,location:"First Floor Lobby",detail:"Near main entrance",locker_count:2},{id:2,location:"Second Floor Office",detail:"Open office area",locker_count:1},{id:3,location:"Third Floor Conference",detail:"Conference floor",locker_count:1}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function D(){return f()}async function f(){return await l(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,locker_type:"KiDiGi-32",detail:"32-bay smart locker",bay_total:32},{id:2,locker_type:"KiDiGi-16",detail:"16-bay smart locker",bay_total:16}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function M(e){return t.post("/Locker/add_locker_location",e)}function v(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid location id")):!e.location||typeof e.location!="string"?Promise.reject(new Error("Invalid location name")):!e.detail||typeof e.detail!="string"?Promise.reject(new Error("Invalid location detail")):t.post("/Locker/edit_locker_location",e)}function w(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid location id")):t.post("/Locker/del_locker_location",e)}function g(e){return t.post("/Locker/edit_locker_type",e)}function C(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker type id")):t.post("/Locker/del_locker_type",e)}function I(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker type id")):t.post("/Locker/del_locker_type_reset",e)}function S(e){return t.post("/Locker/edit_locker_type",e)}function T(e){return t.post("/Locker/add_locker_type",e)}function E(e){return!e||typeof e.locker_id!="number"||e.locker_id<=0?Promise.reject(new Error("Invalid locker_id")):h(e)}async function h(e){await l(500);const a=[],i=[{name:"AVAILABLE",state:1},{name:"CHARGING",state:2},{name:"CLEANING",state:3},{name:"OCCUPIED",state:4},{name:"UNAVAILABLE",state:0},{name:"LATE CHECK-IN",state:6},{name:"DAMAGED",state:5}];for(let o=0;o<i.length;o++){const n=i[o],r=o+1;let c=0,d=0;const _=0;n.state===4&&(c=Math.floor(Math.random()*100)+1,d=Date.now()-Math.floor(Math.random()*864e5*7));let s="";n.state===5&&(s=["Scheduled maintenance","Repair","Cleaning"][Math.floor(Math.random()*3)]),a.push({id:r,cabinet_no:r.toString(),lock_state:Math.random()>.1?1:0,usb_state:Math.random()>.2?1:0,other_state:Math.random()>.9?1:0,uvc_state:Math.random()>.8?1:0,cabinet_state:n.state,cabinet_name:n.name,create_time:Date.now()-Math.floor(Math.random()*864e5*30),update_time:Date.now()-Math.floor(Math.random()*864e5*7),update_user:Math.floor(Math.random()*10)+1,cabinet_temp_state:["normal","warning","critical"][Math.floor(Math.random()*3)],cabinet_type:Math.floor(Math.random()*3)+1,user_id:c,cabinet_deactivated_reason:s,check_in_time:d,check_out_time:_,locker_code:`LC${e.locker_id.toString().padStart(3,"0")}`,locker_id:e.locker_id,status:n.state===0?2:1})}for(let o=i.length+1;o<=32;o++){const n=Math.floor(Math.random()*i.length),r=i[n];let c=0,d=0;const _=0;r.state===4&&(c=Math.floor(Math.random()*100)+1,d=Date.now()-Math.floor(Math.random()*864e5*7));let s="";r.state===5&&(s=["Scheduled maintenance","Repair","Cleaning"][Math.floor(Math.random()*3)]),a.push({id:o,cabinet_no:o.toString(),lock_state:Math.random()>.1?1:0,usb_state:Math.random()>.2?1:0,other_state:Math.random()>.9?1:0,uvc_state:Math.random()>.8?1:0,cabinet_state:r.state,cabinet_name:r.name,create_time:Date.now()-Math.floor(Math.random()*864e5*30),update_time:Date.now()-Math.floor(Math.random()*864e5*7),update_user:Math.floor(Math.random()*10)+1,cabinet_temp_state:["normal","warning","critical"][Math.floor(Math.random()*3)],cabinet_type:Math.floor(Math.random()*3)+1,user_id:c,cabinet_deactivated_reason:s,check_in_time:d,check_out_time:_,locker_code:`LC${e.locker_id.toString().padStart(3,"0")}`,locker_id:e.locker_id,status:r.state===0?2:1})}return{data:{ret:0,code:200,msg:"success",ret_data:a,timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function G(e){return!e||typeof e.locker_id!="number"||e.locker_id<=0?Promise.reject(new Error("Invalid locker_id")):typeof e.bay!="number"||e.bay<=0?Promise.reject(new Error("Invalid bay number")):typeof e.status!="number"||e.status!==1&&e.status!==2?Promise.reject(new Error("Invalid status: must be 1 (active) or 2 (inactive)")):t.post("/Locker/edit_bay",e)}function A(e={}){return t.post("/Locker/bay_history_list",e)}export{L as a,D as b,M as c,w as d,v as e,g as f,b as g,S as h,T as i,C as j,I as k,E as l,A as m,G as n};
