import{a as u}from"./index-B9ygI19o.js";const c=e=>new Promise(o=>setTimeout(o,e)),t=u.create({baseURL:"https://guiz.haomengwl.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{var r;const o=localStorage.getItem("token");return o&&(e.headers.token=o),console.log("发送请求:",(r=e.method)==null?void 0:r.toUpperCase(),e.url),console.log("请求头:",e.headers),console.log("请求数据:",e.data),e},e=>(console.error("请求拦截器错误:",e),Promise.reject(e)));t.interceptors.response.use(e=>(console.log("收到响应:",e.status,e.data),e),e=>(console.error("响应拦截器错误:",e),Promise.reject(e)));function w(){return m()}async function m(){return await c(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,name:"A1",sn_code:"SN001",location:"First Floor Lobby",location_id:1,locker_code:"LC001",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*30,update_time:Date.now()-864e5*1,update_user:"admin",Devices_in_use:15,available_device:10,damaged_device:7},{id:2,name:"A2",sn_code:"SN002",location:"Second Floor Office",location_id:1,locker_code:"LC002",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*20,update_time:Date.now()-864e5*2,update_user:"admin",Devices_in_use:12,available_device:15,damaged_device:5},{id:3,name:"B1",sn_code:"SN003",location:"Third Floor Conference",location_id:2,locker_code:"LC003",locker_type:"KiDiGi-16",locker_type_id:2,bay_total:16,locker_status:0,create_time:Date.now()-864e5*10,update_time:Date.now()-864e5*3,update_user:"admin",Devices_in_use:5,available_device:8,damaged_device:3},{id:1,name:"A1",sn_code:"SN001",location:"First Floor Lobby",location_id:1,locker_code:"LC001",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*30,update_time:Date.now()-864e5*1,update_user:"admin",Devices_in_use:15,available_device:10,damaged_device:7},{id:2,name:"A2",sn_code:"SN002",location:"Second Floor Office",location_id:1,locker_code:"LC002",locker_type:"KiDiGi-32",locker_type_id:1,bay_total:32,locker_status:1,create_time:Date.now()-864e5*20,update_time:Date.now()-864e5*2,update_user:"admin",Devices_in_use:12,available_device:15,damaged_device:5},{id:3,name:"B1",sn_code:"SN003",location:"Third Floor Conference",location_id:2,locker_code:"LC003",locker_type:"KiDiGi-16",locker_type_id:2,bay_total:16,locker_status:0,create_time:Date.now()-864e5*10,update_time:Date.now()-864e5*3,update_user:"admin",Devices_in_use:5,available_device:8,damaged_device:3}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function M(){return k()}async function k(){return await c(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,location:"First Floor Lobby",detail:"Near main entrance",locker_count:2},{id:2,location:"Second Floor Office",detail:"Open office area",locker_count:1},{id:3,location:"Third Floor Conference",detail:"Conference floor",locker_count:1}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function v(){return f()}async function f(){return await c(500),{data:{ret:0,code:200,msg:"success",ret_data:[{id:1,locker_type:"KiDiGi-32",detail:"32-bay smart locker",bay_total:32},{id:2,locker_type:"KiDiGi-16",detail:"16-bay smart locker",bay_total:16}],timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function g(e){return h()}async function h(e){return await c(500),{data:{ret:0,code:200,msg:"锁柜添加成功",ret_data:Math.floor(Math.random()*1e3)+100,timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function I(e){return y(e)}async function y(e){return await c(500),{data:{ret:0,code:200,msg:"锁柜编辑成功",ret_data:e.id,timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function T(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker id")):p(e)}async function p(e){return await c(500),{data:{ret:0,code:200,msg:"锁柜删除成功",ret_data:e.id,timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function C(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker id")):t.post("/Locker/del_locker_reset",e)}function S(e){return t.post("/Locker/add_locker_location",e)}function E(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid location id")):!e.location||typeof e.location!="string"?Promise.reject(new Error("Invalid location name")):!e.detail||typeof e.detail!="string"?Promise.reject(new Error("Invalid location detail")):t.post("/Locker/edit_locker_location",e)}function j(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid location id")):t.post("/Locker/del_locker_location",e)}function A(e){return t.post("/Locker/edit_locker_type",e)}function G(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker type id")):t.post("/Locker/del_locker_type",e)}function K(e){return!e||typeof e.id!="number"||e.id<=0?Promise.reject(new Error("Invalid locker type id")):t.post("/Locker/del_locker_type_reset",e)}function P(e){return t.post("/Locker/edit_locker_type",e)}function O(e){return t.post("/Locker/add_locker_type",e)}function F(e){return!e||typeof e.locker_id!="number"||e.locker_id<=0?Promise.reject(new Error("Invalid locker_id")):L(e)}async function L(e){await c(500);const o=[],r=[{name:"AVAILABLE",state:1},{name:"CHARGING",state:2},{name:"CLEANING",state:3},{name:"OCCUPIED",state:4},{name:"UNAVAILABLE",state:0},{name:"LATE CHECK-IN",state:6},{name:"DAMAGED",state:5}];for(let a=0;a<r.length;a++){const i=r[a],n=a+1;let d=0,s=0;const _=0;i.state===4&&(d=Math.floor(Math.random()*100)+1,s=Date.now()-Math.floor(Math.random()*864e5*7));let l="";i.state===5&&(l=["Scheduled maintenance","Repair","Cleaning"][Math.floor(Math.random()*3)]),o.push({id:n,cabinet_no:n.toString(),lock_state:Math.random()>.1?1:0,usb_state:Math.random()>.2?1:0,other_state:Math.random()>.9?1:0,uvc_state:Math.random()>.8?1:0,cabinet_state:i.state,cabinet_name:i.name,create_time:Date.now()-Math.floor(Math.random()*864e5*30),update_time:Date.now()-Math.floor(Math.random()*864e5*7),update_user:Math.floor(Math.random()*10)+1,cabinet_temp_state:["normal","warning","critical"][Math.floor(Math.random()*3)],cabinet_type:Math.floor(Math.random()*3)+1,user_id:d,cabinet_deactivated_reason:l,check_in_time:s,check_out_time:_,locker_code:`LC${e.locker_id.toString().padStart(3,"0")}`,locker_id:e.locker_id,status:i.state===0?2:1})}for(let a=r.length+1;a<=32;a++){const i=Math.floor(Math.random()*r.length),n=r[i];let d=0,s=0;const _=0;n.state===4&&(d=Math.floor(Math.random()*100)+1,s=Date.now()-Math.floor(Math.random()*864e5*7));let l="";n.state===5&&(l=["Scheduled maintenance","Repair","Cleaning"][Math.floor(Math.random()*3)]),o.push({id:a,cabinet_no:a.toString(),lock_state:Math.random()>.1?1:0,usb_state:Math.random()>.2?1:0,other_state:Math.random()>.9?1:0,uvc_state:Math.random()>.8?1:0,cabinet_state:n.state,cabinet_name:n.name,create_time:Date.now()-Math.floor(Math.random()*864e5*30),update_time:Date.now()-Math.floor(Math.random()*864e5*7),update_user:Math.floor(Math.random()*10)+1,cabinet_temp_state:["normal","warning","critical"][Math.floor(Math.random()*3)],cabinet_type:Math.floor(Math.random()*3)+1,user_id:d,cabinet_deactivated_reason:l,check_in_time:s,check_out_time:_,locker_code:`LC${e.locker_id.toString().padStart(3,"0")}`,locker_id:e.locker_id,status:n.state===0?2:1})}return{data:{ret:0,code:200,msg:"success",ret_data:o,timestamp:Date.now()},status:200,statusText:"OK",headers:{},config:{}}}function N(e){return!e||typeof e.locker_id!="number"||e.locker_id<=0?Promise.reject(new Error("Invalid locker_id")):typeof e.bay!="number"||e.bay<=0?Promise.reject(new Error("Invalid bay number")):typeof e.status!="number"||e.status!==1&&e.status!==2?Promise.reject(new Error("Invalid status: must be 1 (active) or 2 (inactive)")):t.post("/Locker/edit_bay",e)}function x(e={}){return t.post("/Locker/bay_history_list",e)}export{g as a,M as b,v as c,T as d,I as e,C as f,w as g,E as h,S as i,j,A as k,P as l,O as m,G as n,K as o,F as p,x as q,N as r};
